@use "sass:map";
@use "sass:color";

$base-colors: (
  "gray": hsl(230, 14%, 44%),
  "orange": hsl(24, 75%, 50%),
  "yellow": hsl(48, 75%, 50%),
  "yellowgreen": hsl(72, 75%, 50%),
  "green": hsl(96, 75%, 50%),
  "lime": hsl(144, 75%, 50%),
  "turquoise": hsl(168, 75%, 50%),
  "cyan": hsl(173, 75%, 50%),
  "skyblue": hsl(216, 75%, 50%),
  "blue": hsl(240, 75%, 50%),
  "purple": hsl(264, 75%, 50%),
  "magenta": hsl(277, 70%, 50%),
  "pink": hsl(302, 75%, 50%),
  "deeppink": hsl(336, 75%, 50%),
  "red": hsl(0, 75%, 50%),
);

$lightness-scale: (
  "100": 97%,
  "200": 82.5%,
  "300": 70%,
  "400": 60%,
  "500": 50%,
  "600": 40%,
  "700": 30%,
  "800": 17.5%,
  "900": 7.5%
);

@function generate-color-scale($base-color) {
  $hue: color.channel($base-color, "hue", $space: hsl);
  $saturation: color.channel($base-color, "saturation", $space: hsl);
  $scale: ();

  @each $variant, $lightness in $lightness-scale {
    $scale: map.merge($scale, (
      $variant: hsl($hue, $saturation, $lightness)
    ));
  }

  @return $scale;
}

$color-scales: ();
@each $name, $base in $base-colors {
  $color-scales: map.merge($color-scales, (
    $name: generate-color-scale($base)
  ));
}

$neutral-tint: 236;
$neutral-saturation: 38%;

$neutral-scale: (
  "000": hsl($neutral-tint, $neutral-saturation, 99%),
  "100": hsl($neutral-tint, $neutral-saturation, 97%),
  "200": hsl($neutral-tint, $neutral-saturation, 82.5%),
  "300": hsl($neutral-tint, $neutral-saturation, 70%),
  "400": hsl($neutral-tint, $neutral-saturation, 60%),
  "500": hsl($neutral-tint, $neutral-saturation, 50%),
  "600": hsl($neutral-tint, $neutral-saturation, 40%),
  "700": hsl($neutral-tint, $neutral-saturation, 30%),
  "800": hsl($neutral-tint, $neutral-saturation, 17.5%),
  "900": hsl($neutral-tint, $neutral-saturation, 7.5%),
  "1000": hsl($neutral-tint, $neutral-saturation, 6%)
);

$primary-tint: 145;
$primary-saturation: 40%;

$primary-scale: (
  "000": hsl($primary-tint, $primary-saturation, 99%),
  "100": hsl($primary-tint, $primary-saturation, 97%),
  "200": hsl($primary-tint, $primary-saturation, 82.5%),
  "300": hsl($primary-tint, $primary-saturation, 70%),
  "400": hsl($primary-tint, $primary-saturation, 60%),
  "500": hsl($primary-tint, $primary-saturation, 50%),
  "600": hsl($primary-tint, $primary-saturation, 40%),
  "700": hsl($primary-tint, $primary-saturation, 30%),
  "800": hsl($primary-tint, $primary-saturation, 17.5%),
  "900": hsl($primary-tint, $primary-saturation, 7.5%),
  "1000": hsl($primary-tint, $primary-saturation, 6%)
);

$accent-tint: 35;
$accent-saturation: 60%;

$accent-scale: (
  "000": hsl($accent-tint, $accent-saturation, 99%),
  "100": hsl($accent-tint, $accent-saturation, 97%),
  "200": hsl($accent-tint, $accent-saturation, 82.5%),
  "300": hsl($accent-tint, $accent-saturation, 70%),
  "400": hsl($accent-tint, $accent-saturation, 60%),
  "500": hsl($accent-tint, $accent-saturation, 50%),
  "600": hsl($accent-tint, $accent-saturation, 40%),
  "700": hsl($accent-tint, $accent-saturation, 30%),
  "800": hsl($accent-tint, $accent-saturation, 17.5%),
  "900": hsl($accent-tint, $accent-saturation, 7.5%),
  "1000": hsl($accent-tint, $accent-saturation, 6%)
);

$light: (
  "neutral": $neutral-scale,
  "primary": $primary-scale,
  "accent": $accent-scale
);

@each $name, $scale in $color-scales {
  $light: map.merge($light, (
    $name: $scale
  ));
}

$dark-neutral: (
  "1000": map.get($neutral-scale, "000"),
  "900": map.get($neutral-scale, "100"),
  "800": map.get($neutral-scale, "200"),
  "700": map.get($neutral-scale, "300"),
  "600": map.get($neutral-scale, "400"),
  "500": map.get($neutral-scale, "500"),
  "400": map.get($neutral-scale, "600"),
  "300": map.get($neutral-scale, "700"),
  "200": map.get($neutral-scale, "800"),
  "100": map.get($neutral-scale, "900"),
  "000": map.get($neutral-scale, "1000")
);

$dark-primary: (
  "1000": map.get($primary-scale, "000"),
  "900": map.get($primary-scale, "100"),
  "800": map.get($primary-scale, "200"),
  "700": map.get($primary-scale, "300"),
  "600": map.get($primary-scale, "400"),
  "500": map.get($primary-scale, "500"),
  "400": map.get($primary-scale, "600"),
  "300": map.get($primary-scale, "700"),
  "200": map.get($primary-scale, "800"),
  "100": map.get($primary-scale, "900"),
  "000": map.get($primary-scale, "1000")
);

$dark-accent: (
  "1000": map.get($accent-scale, "000"),
  "900": map.get($accent-scale, "100"),
  "800": map.get($accent-scale, "200"),
  "700": map.get($accent-scale, "300"),
  "600": map.get($accent-scale, "400"),
  "500": map.get($accent-scale, "500"),
  "400": map.get($accent-scale, "600"),
  "300": map.get($accent-scale, "700"),
  "200": map.get($accent-scale, "800"),
  "100": map.get($accent-scale, "900"),
  "000": map.get($accent-scale, "1000")
);

$dark: (
  "neutral": $dark-neutral,
  "primary": $dark-primary,
  "accent": $dark-accent
);

@each $name, $scale in $color-scales {
  $dark: map.merge($dark, (
    $name: $scale
  ));
}

// Generate CSS custom properties
@mixin generate-theme-vars($theme-map) {
  @each $color-name, $variants in $theme-map {
    @each $variant, $value in $variants {
      --#{$color-name}-#{$variant}: #{$value};
    }
  }
}


$color-neutral-000: var(--neutral-000);
$color-neutral-100: var(--neutral-100);
$color-neutral-200: var(--neutral-200);
$color-neutral-300: var(--neutral-300);
$color-neutral-400: var(--neutral-400);
$color-neutral-500: var(--neutral-500);
$color-neutral-600: var(--neutral-600);
$color-neutral-700: var(--neutral-700);
$color-neutral-800: var(--neutral-800);
$color-neutral-900: var(--neutral-900);
$color-neutral-1000: var(--neutral-1000);

$color-primary-100: var(--primary-100);
$color-primary-200: var(--primary-200);
$color-primary-300: var(--primary-300);
$color-primary-400: var(--primary-400);
$color-primary-500: var(--primary-500);
$color-primary-600: var(--primary-600);
$color-primary-700: var(--primary-700);
$color-primary-800: var(--primary-800);
$color-primary-900: var(--primary-900);

$color-accent-100: var(--accent-100);
$color-accent-200: var(--accent-200);
$color-accent-300: var(--accent-300);
$color-accent-400: var(--accent-400);
$color-accent-500: var(--accent-500);
$color-accent-600: var(--accent-600);
$color-accent-700: var(--accent-700);
$color-accent-800: var(--accent-800);
$color-accent-900: var(--accent-900);

$color-red-300: var(--red-300);
$color-red-400: var(--red-400);
$color-blue-500: var(--blue-500);
$color-green-400: var(--green-400);
$color-green-500: var(--green-500);
$color-orange-400: var(--orange-400);
